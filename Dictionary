package lab2;
import java.util.ArrayList;
import java.lang.StringBuilder;

public class Dictionairy {
private ArrayList<Word> thelist;
private ArrayList<Word> backup = null;

public Dictionairy() {
	
	thelist = new ArrayList<Word>();
}

public String addString(String arg) {
	Word w = new Word(arg,1);
	
	for (int i = 0; i < thelist.size(); i++) {

		if (thelist.get(i).getWord().compareTo(arg) == 0) {
			w = new Word(arg, thelist.get(i).getCount()+ 1);
			break;
		}
	}
	thelist.add(w);
	return w.toString();
}


public String sortList(int arg) {
	
	String returner = new String();
	
	if (backup == null) {
		backup = new ArrayList<Word>(thelist.size());
		
		for (int i = 0; i<thelist.size();i++) {
			Word w = new Word(thelist.get(i).getWord(), thelist.get(i).getCount());
			backup.add(i, w);
		}
	}
	
	if (arg == Word.ORIGINAL) {
		thelist = backup;
		Word.setCriterion(0);
		returner = ("Word list was reset");
	}
	
	
	
	if(arg == Word.BYCOUNTS || arg == Word.BYNAME) {
		
		Word.setCriterion(arg);
		//sorting stuff
		int i, j;
	    for (i = 0; i < thelist.size() - 1; i++) {
	        for (j = 0; j < thelist.size() - i - 1; j++) {
	            if (thelist.get(i).compareTo(thelist.get(i + 1)) > 0){
	            	Word temp;
	                temp = thelist.get(j + 1);
	                thelist.add(j + 1, thelist.get(i));
	                thelist.add(i, temp);
	            }
	        }
	    }
	}
	if (arg == Word.BYCOUNTS){
		returner = ("Sorted by counts");
	}
	else if (arg == Word.BYNAME){
		returner = ("Sorted alphabetically");
	}
	else {
		returner = ("Sort criterion unknown");
	}
	
    return returner;
}

public String toString() {
	
	String s = new String("Content:\n");
	StringBuilder builder = new StringBuilder();
	
	for (int i = 0; i < thelist.size(); i++) {
		String addon = thelist.get(i).toString() + "\n";
		builder.append(addon);
	}
	String s2 = new String(s + builder);
	return s2;
}

}
